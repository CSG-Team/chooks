import { Meta, Story, Canvas } from "@storybook/addon-docs";
import UnmountedRef from "./index.tsx";

<Meta title="Hooks/use-unmounted-ref" />



# useUnmountedRef

获取当前组件是否为卸载状态， 如果已经卸载了返回true


## 使用
```tsx
import { useState } from 'react';
import { useUnmountedRef } from 'cchooks';

const MyComponent = () => {
  const unmountedRef = useUnmountedRef();
  useEffect(() => {
    setTimeout(() => {
      if (!unmountedRef.current) {
        message.info('component is alive');
      }
    }, 3000);
  }, []);

  return <p>Hello csg!</p>;
};

const UnmountedRef =  () => {
  const [boolean, setBoolean] = useState(true);

  return (
    <>
      <button type="button" onClick={() => setBoolean(!boolean)}>
        {boolean ? 'unmount' : 'mount'}
      </button>
      {boolean && <MyComponent />}
    </>
  );
};

```
上面的代码渲染出以下效果


export const Template = () => <UnmountedRef />


<Canvas>
  <Story 
    name="positive"
    args={{
      status: 'positive',
      label: 'Positive'
  }}>
    {Template.bind({})}
  </Story>
</Canvas>